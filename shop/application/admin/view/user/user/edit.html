<style>
fieldset {
    border: 1px solid #e5e5e5;
    border-radius: 4px;
    padding: 15px;
    margin-bottom: 20px;
    background-color: #fafafa;
}
fieldset legend {
    width: auto;
    padding: 0 10px;
    margin-bottom: 0;
    font-size: 14px;
    font-weight: 600;
    color: #333;
    border: none;
}
.form-group .col-sm-4 {
    padding-left: 10px;
    padding-right: 10px;
}
</style>
<form id="edit-form" class="form-horizontal" role="form" data-toggle="validator" method="POST" action="">
    {:token()}
    <input type="hidden" name="row[id]" value="{$row.id|htmlentities}">
    
    <!-- 基本信息 -->
    <fieldset>
        <legend>基本信息</legend>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Group')}:</label>
            <div class="col-xs-12 col-sm-4">
                {$groupList}
            </div>
            <label for="c-username" class="control-label col-xs-12 col-sm-2">{:__('Username')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-username" data-rule="required" class="form-control" name="row[username]" type="text" value="{$row.username|htmlentities}" placeholder="请输入用户名">
            </div>
        </div>
        <div class="form-group">
            <label for="c-nickname" class="control-label col-xs-12 col-sm-2">{:__('Nickname')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-nickname" data-rule="required" class="form-control" name="row[nickname]" type="text" value="{$row.nickname|htmlentities}" placeholder="请输入昵称">
            </div>
            <label for="c-password" class="control-label col-xs-12 col-sm-2">{:__('Password')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-password" data-rule="password" class="form-control" name="row[password]" type="password" value="" placeholder="{:__('Leave password blank if dont want to change')}" autocomplete="new-password" />
            </div>
        </div>
        <div class="form-group">
            <label for="c-email" class="control-label col-xs-12 col-sm-2">{:__('Email')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-email" data-rule="email" class="form-control" name="row[email]" type="text" value="{$row.email|htmlentities}" placeholder="请输入邮箱地址">
            </div>
            <label for="c-mobile" class="control-label col-xs-12 col-sm-2">{:__('Mobile')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-mobile" data-rule="mobile" class="form-control" name="row[mobile]" type="text" value="{$row.mobile|htmlentities}" placeholder="请输入手机号">
            </div>
        </div>
        <div class="form-group">
            <label for="c-avatar" class="control-label col-xs-12 col-sm-2">{:__('Avatar')}:</label>
            <div class="col-xs-12 col-sm-8">
                <div class="input-group">
                    <input id="c-avatar" data-rule="" class="form-control" size="50" name="row[avatar]" type="text" value="{$row.avatar|htmlentities}">
                    <div class="input-group-addon no-border no-padding">
                        <span><button type="button" id="faupload-avatar" class="btn btn-danger faupload" data-input-id="c-avatar" data-mimetype="image/gif,image/jpeg,image/png,image/jpg,image/bmp" data-multiple="false" data-preview-id="p-avatar"><i class="fa fa-upload"></i> {:__('Upload')}</button></span>
                        <span><button type="button" id="fachoose-avatar" class="btn btn-primary fachoose" data-input-id="c-avatar" data-mimetype="image/*" data-multiple="false"><i class="fa fa-list"></i> {:__('Choose')}</button></span>
                    </div>
                    <span class="msg-box n-right" for="c-avatar"></span>
                </div>
                <ul class="row list-inline faupload-preview" id="p-avatar"></ul>
            </div>
        </div>
    </fieldset>
    
    <!-- 实名认证信息 -->
    <fieldset>
        <legend>实名认证信息</legend>
        <div class="form-group">
            <label for="c-realname" class="control-label col-xs-12 col-sm-2">{:__('Realname')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-realname" data-rule="" class="form-control" name="row[realname]" type="text" value="{$row.realname|htmlentities}" placeholder="请输入真实姓名">
            </div>
            <label for="c-idcard" class="control-label col-xs-12 col-sm-2">{:__('Idcard')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-idcard" data-rule="" class="form-control" name="row[idcard]" type="text" value="{$row.idcard|htmlentities}" placeholder="请输入身份证号">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Is_realname')}:</label>
            <div class="col-xs-12 col-sm-4">
                {:build_radios('row[is_realname]', ['1'=>__('Is_realname 1'), '0'=>__('Is_realname 0')], $row['is_realname'])}
            </div>
            <label for="c-realname_time" class="control-label col-xs-12 col-sm-2">{:__('Realname_time')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-realname_time" data-rule="" class="form-control datetimepicker" data-date-format="YYYY-MM-DD HH:mm:ss" data-use-current="true" name="row[realname_time]" type="text" value="{$row.realname_time|datetime}">
            </div>
        </div>
    </fieldset>
    
    <!-- 个人资料 -->
    <fieldset>
        <legend>个人资料</legend>
        <div class="form-group">
            <label for="c-level" class="control-label col-xs-12 col-sm-2">{:__('Level')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-level" data-rule="required" class="form-control" name="row[level]" type="number" value="{$row.level|htmlentities}" placeholder="请输入等级">
            </div>
            <label class="control-label col-xs-12 col-sm-2">{:__('Gender')}:</label>
            <div class="col-xs-12 col-sm-4">
                {:build_radios('row[gender]', ['1'=>__('Male'), '0'=>__('Female')], $row['gender'])}
            </div>
        </div>
        <div class="form-group">
            <label for="c-birthday" class="control-label col-xs-12 col-sm-2">{:__('Birthday')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-birthday" data-rule="" class="form-control datetimepicker" data-date-format="YYYY-MM-DD" data-use-current="true" name="row[birthday]" type="text" value="{$row.birthday|htmlentities}">
            </div>
            <label for="c-bio" class="control-label col-xs-12 col-sm-2">{:__('Bio')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-bio" data-rule="" class="form-control" name="row[bio]" type="text" value="{$row.bio|htmlentities}" placeholder="请输入个人格言">
            </div>
        </div>
    </fieldset>
    
    <!-- 账户信息 -->
    <fieldset>
        <legend>账户信息</legend>
        <div class="form-group">
            <label for="c-money" class="control-label col-xs-12 col-sm-2">{:__('Money')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-money" data-rule="required" class="form-control" name="row[money]" type="number" step="0.01" value="{$row.money|htmlentities}" placeholder="请输入账户余额">
            </div>
            <label for="c-score" class="control-label col-xs-12 col-sm-2">{:__('Score')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-score" data-rule="required" class="form-control" name="row[score]" type="number" value="{$row.score|htmlentities}" placeholder="请输入积分">
            </div>
        </div>
        <div class="form-group">
            <label for="c-member_level" class="control-label col-xs-12 col-sm-2">{:__('Member_level')}:</label>
            <div class="col-xs-12 col-sm-4">
                <select id="c-member_level" data-rule="" class="form-control selectpicker" name="row[member_level]">
                    <option value="0" {eq name="row.member_level" value="0"}selected{/eq}>普通会员</option>
                    <option value="1" {eq name="row.member_level" value="1"}selected{/eq}>铂金会员</option>
                    <option value="2" {eq name="row.member_level" value="2"}selected{/eq}>黄金会员</option>
                    <option value="3" {eq name="row.member_level" value="3"}selected{/eq}>钻石会员</option>
                    <option value="4" {eq name="row.member_level" value="4"}selected{/eq}>黑金会员</option>
                    <option value="5" {eq name="row.member_level" value="5"}selected{/eq}>至尊会员</option>
                </select>
            </div>
            <label for="c-invite_code" class="control-label col-xs-12 col-sm-2">{:__('Invite_code')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-invite_code" data-rule="" class="form-control" name="row[invite_code]" type="text" value="{$row.invite_code|htmlentities}" placeholder="请输入邀请码">
            </div>
        </div>
        <div class="form-group">
            <label for="c-parent_user_id" class="control-label col-xs-12 col-sm-2">推荐人ID:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-parent_user_id" data-rule="integer" class="form-control selectpage" name="row[parent_user_id]" type="text" value="{$row.parent_user_id|default=''}" data-source="user/user/index" data-field="mobile" placeholder="请选择推荐人用户">
                <span class="help-block">点击输入框选择推荐人用户，0或留空表示清除推荐关系。也可以手动输入用户ID。</span>
                {if condition="$row.parent_user_id"}
                <div class="help-block text-info" id="parent-user-info">
                    <i class="fa fa-info-circle"></i> 当前推荐人ID: {$row.parent_user_id}
                </div>
                {/if}
            </div>
            <label for="c-total_consume" class="control-label col-xs-12 col-sm-2">累计消费:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-total_consume" data-rule="" class="form-control" name="row[total_consume]" type="number" step="0.01" value="{$row.total_consume|default='0.00'|htmlentities}" placeholder="累计消费金额">
            </div>
        </div>
        <div class="form-group">
            <label for="c-signin_days" class="control-label col-xs-12 col-sm-2">{:__('Signin_days')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-signin_days" data-rule="" class="form-control" name="row[signin_days]" type="number" value="{$row.signin_days|htmlentities}" placeholder="连续签到天数">
            </div>
            <label for="c-last_signin_date" class="control-label col-xs-12 col-sm-2">{:__('Last_signin_date')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-last_signin_date" data-rule="" class="form-control datetimepicker" data-date-format="YYYY-MM-DD" data-use-current="true" name="row[last_signin_date]" type="text" value="{$row.last_signin_date|htmlentities}">
            </div>
        </div>
    </fieldset>
    
    <!-- 登录信息 -->
    <fieldset>
        <legend>登录信息</legend>
        <div class="form-group">
            <label for="c-successions" class="control-label col-xs-12 col-sm-2">{:__('Successions')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-successions" data-rule="required" class="form-control" name="row[successions]" type="number" value="{$row.successions|htmlentities}" placeholder="连续登录天数">
            </div>
            <label for="c-maxsuccessions" class="control-label col-xs-12 col-sm-2">{:__('Maxsuccessions')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-maxsuccessions" data-rule="required" class="form-control" name="row[maxsuccessions]" type="number" value="{$row.maxsuccessions|htmlentities}" placeholder="最大连续登录天数">
            </div>
        </div>
        <div class="form-group">
            <label for="c-prevtime" class="control-label col-xs-12 col-sm-2">{:__('Prevtime')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-prevtime" data-rule="" class="form-control datetimepicker" data-date-format="YYYY-MM-DD HH:mm:ss" data-use-current="true" name="row[prevtime]" type="text" value="{$row.prevtime|datetime}">
            </div>
            <label for="c-logintime" class="control-label col-xs-12 col-sm-2">{:__('Logintime')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-logintime" data-rule="" class="form-control datetimepicker" data-date-format="YYYY-MM-DD HH:mm:ss" data-use-current="true" name="row[logintime]" type="text" value="{$row.logintime|datetime}">
            </div>
        </div>
        <div class="form-group">
            <label for="c-loginip" class="control-label col-xs-12 col-sm-2">{:__('Loginip')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-loginip" data-rule="" class="form-control" name="row[loginip]" type="text" value="{$row.loginip|htmlentities}" placeholder="登录IP地址">
            </div>
            <label for="c-loginfailure" class="control-label col-xs-12 col-sm-2">{:__('Loginfailure')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-loginfailure" data-rule="" class="form-control" name="row[loginfailure]" type="number" value="{$row.loginfailure|htmlentities}" placeholder="登录失败次数">
            </div>
        </div>
        <div class="form-group">
            <label for="c-joinip" class="control-label col-xs-12 col-sm-2">{:__('Joinip')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-joinip" data-rule="" class="form-control" name="row[joinip]" type="text" value="{$row.joinip|htmlentities}" placeholder="注册IP地址">
            </div>
            <label for="c-jointime" class="control-label col-xs-12 col-sm-2">{:__('Jointime')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-jointime" data-rule="" class="form-control datetimepicker" data-date-format="YYYY-MM-DD HH:mm:ss" data-use-current="true" name="row[jointime]" type="text" value="{$row.jointime|datetime}">
            </div>
        </div>
    </fieldset>
    
    <!-- 绑定信息 -->
    <fieldset>
        <legend>绑定信息</legend>
        <div class="form-group">
            <label for="c-alipay_account" class="control-label col-xs-12 col-sm-2">{:__('Alipay_account')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-alipay_account" data-rule="" class="form-control" name="row[alipay_account]" type="text" value="{$row.alipay_account|htmlentities}" placeholder="请输入支付宝账号">
            </div>
            <label for="c-alipay_bind_time" class="control-label col-xs-12 col-sm-2">{:__('Alipay_bind_time')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-alipay_bind_time" data-rule="" class="form-control datetimepicker" data-date-format="YYYY-MM-DD HH:mm:ss" data-use-current="true" name="row[alipay_bind_time]" type="text" value="{$row.alipay_bind_time|datetime}">
            </div>
        </div>
        <div class="form-group">
            <label for="c-wechat_account" class="control-label col-xs-12 col-sm-2">{:__('Wechat_account')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-wechat_account" data-rule="" class="form-control" name="row[wechat_account]" type="text" value="{$row.wechat_account|htmlentities}" placeholder="请输入微信号">
            </div>
            <label for="c-wechat_bind_time" class="control-label col-xs-12 col-sm-2">{:__('Wechat_bind_time')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-wechat_bind_time" data-rule="" class="form-control datetimepicker" data-date-format="YYYY-MM-DD HH:mm:ss" data-use-current="true" name="row[wechat_bind_time]" type="text" value="{$row.wechat_bind_time|datetime}">
            </div>
        </div>
    </fieldset>
    
    <!-- 支付功能 -->
    <fieldset>
        <legend>支付功能</legend>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Is_open_wechat_pay')}:</label>
            <div class="col-xs-12 col-sm-4">
                {:build_radios('row[is_open_wechat_pay]', ['1'=>__('Is_open_wechat_pay 1'), '0'=>__('Is_open_wechat_pay 0')], $row['is_open_wechat_pay'])}
            </div>
            <label for="c-wechat_pay_open_time" class="control-label col-xs-12 col-sm-2">{:__('Wechat_pay_open_time')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-wechat_pay_open_time" data-rule="" class="form-control datetimepicker" data-date-format="YYYY-MM-DD HH:mm:ss" data-use-current="true" name="row[wechat_pay_open_time]" type="text" value="{$row.wechat_pay_open_time|datetime}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Is_open_alipay_pay')}:</label>
            <div class="col-xs-12 col-sm-4">
                {:build_radios('row[is_open_alipay_pay]', ['1'=>__('Is_open_alipay_pay 1'), '0'=>__('Is_open_alipay_pay 0')], $row['is_open_alipay_pay'])}
            </div>
            <label for="c-alipay_pay_open_time" class="control-label col-xs-12 col-sm-2">{:__('Alipay_pay_open_time')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-alipay_pay_open_time" data-rule="" class="form-control datetimepicker" data-date-format="YYYY-MM-DD HH:mm:ss" data-use-current="true" name="row[alipay_pay_open_time]" type="text" value="{$row.alipay_pay_open_time|datetime}">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Is_open_payment')}:</label>
            <div class="col-xs-12 col-sm-4">
                {:build_radios('row[is_open_payment]', ['1'=>__('Is_open_payment 1'), '0'=>__('Is_open_payment 0')], $row['is_open_payment'])}
            </div>
            <label for="c-payment_open_time" class="control-label col-xs-12 col-sm-2">{:__('Payment_open_time')}:</label>
            <div class="col-xs-12 col-sm-4">
                <input id="c-payment_open_time" data-rule="" class="form-control datetimepicker" data-date-format="YYYY-MM-DD HH:mm:ss" data-use-current="true" name="row[payment_open_time]" type="text" value="{$row.payment_open_time|datetime}">
            </div>
        </div>
    </fieldset>
    
    <!-- 状态信息 -->
    <fieldset>
        <legend>状态信息</legend>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Status')}:</label>
            <div class="col-xs-12 col-sm-4">
                {:build_radios('row[status]', ['normal'=>__('Normal'), 'hidden'=>__('Hidden')], $row['status'])}
            </div>
        </div>
    </fieldset>
    
    <div class="form-group layer-footer">
        <label class="control-label col-xs-12 col-sm-2"></label>
        <div class="col-xs-12 col-sm-8">
            <button type="submit" class="btn btn-primary btn-embossed disabled">{:__('OK')}</button>
            <button type="reset" class="btn btn-default btn-embossed">{:__('Reset')}</button>
        </div>
    </div>
</form>
